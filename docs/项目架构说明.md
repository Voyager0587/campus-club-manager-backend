
## 技术栈

### 核心框架

- **Spring Boot 3.4.4** - 应用框架
- **MyBatis Plus 3.5.9** - ORM 框架
- **Sa-Token 1.44.0** - 权限认证框架

### 数据库

- **MySQL 8.0+** - 关系型数据库
- **MySQL Connector/J** - JDBC 驱动

### 工具库

- **Lombok** - 简化代码
- **Validation** - 参数校验
- **SpringDoc OpenAPI** - API 文档（Swagger）

### 其他依赖

- **Aliyun OSS** - 对象存储（文件上传）
- **Jackson** - JSON 序列化

## 架构设计

### 分层架构

```
┌─────────────────────────────────────┐
│         Controller 层                │  ← HTTP 请求入口
│  - 参数校验（@Valid）                │
│  - 权限验证（@SaCheckRole）          │
│  - 返回统一响应（Result<T>）         │
└─────────────────────────────────────┘
                 ↓
┌─────────────────────────────────────┐
│          Service 层                  │  ← 业务逻辑
│  - 业务规则实现                      │
│  - 事务管理                          │
│  - 异常处理                          │
└─────────────────────────────────────┘
                 ↓
┌─────────────────────────────────────┐
│          Mapper 层                   │  ← 数据访问
│  - MyBatis Plus CRUD                │
│  - 自定义 SQL                        │
└─────────────────────────────────────┘
                 ↓
┌─────────────────────────────────────┐
│          Database                    │  ← 数据持久化
│  - MySQL 8.0                         │
└─────────────────────────────────────┘
```

### 请求处理流程

```
HTTP Request
    │
    ├─→ SaToken 拦截器（登录验证）
    │       │
    │       ├─ 检查 Token
    │       └─ 注入用户信息
    │
    ├─→ Controller（接收请求）
    │       │
    │       ├─ 参数校验（@Valid）
    │       ├─ 权限验证（@SaCheckRole）
    │       └─ 调用 Service
    │
    ├─→ Service（业务处理）
    │       │
    │       ├─ 业务逻辑
    │       ├─ 调用 Mapper
    │       └─ 返回结果
    │
    ├─→ GlobalExceptionHandler（异常处理）
    │       │
    │       ├─ 捕获异常
    │       └─ 返回错误响应
    │
    └─→ HTTP Response（统一格式）
            {
              "code": 200,
              "message": "操作成功",
              "data": {...}
            }
```